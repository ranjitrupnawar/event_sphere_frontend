{"ast":null,"code":"import{useState}from\"react\";import{ToastContainer,toast}from\"react-toastify\";import\"react-toastify/dist/ReactToastify.css\";import{useNavigate}from\"react-router-dom\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const AdminRegisterForm=()=>{let navigate=useNavigate();const admin_jwtToken=sessionStorage.getItem(\"admin-jwtToken\");const[registerRequest,setRegisterRequest]=useState({});const[errors,setErrors]=useState({emailId:\"\",password:\"\"});const handleUserInput=e=>{setRegisterRequest({...registerRequest,[e.target.name]:e.target.value});};const validateEmail=email=>{const regex=/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}$/;return regex.test(email);};const validatePassword=password=>{// Regular expression for validating the password\nconst regex=/^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[@$!%*?&])[A-Za-z\\d@$!%*?&]{8,}$/;return regex.test(password);};const validateForm=()=>{const errors={};if(!validateEmail(registerRequest.emailId)){errors.emailId=\"Invalid email address\";}if(!validatePassword(registerRequest.password)){errors.password=\"Password must be at least 8 characters long, include one uppercase letter, one lowercase letter, one digit, and one special character\";}setErrors(errors);// Return true if no errors\nreturn Object.keys(errors).length===0;};const registerAdmin=e=>{if(!validateForm()){return;}fetch(\"\".concat(process.env.REACT_APP_BACKEND,\"/api/user/admin/register\"),{method:\"POST\",headers:{Accept:\"application/json\",\"Content-Type\":\"application/json\"//   Authorization: \"Bearer \" + admin_jwtToken,\n},body:JSON.stringify(registerRequest)}).then(result=>{console.log(\"result\",result);result.json().then(res=>{if(res.success){toast.success(res.responseMessage,{position:\"top-center\",autoClose:1000,hideProgressBar:false,closeOnClick:true,pauseOnHover:true,draggable:true,progress:undefined});setTimeout(()=>{navigate(\"/home\");},1000);}else if(!res.success){toast.error(res.responseMessage,{position:\"top-center\",autoClose:1000,hideProgressBar:false,closeOnClick:true,pauseOnHover:true,draggable:true,progress:undefined});setTimeout(()=>{window.location.reload(true);},1000);// Redirect after 3 seconds\n}else{toast.error(\"It seems server is down\",{position:\"top-center\",autoClose:1000,hideProgressBar:false,closeOnClick:true,pauseOnHover:true,draggable:true,progress:undefined});setTimeout(()=>{window.location.reload(true);},1000);// Redirect after 3 seconds\n}});}).catch(error=>{console.error(error);toast.error(\"It seems server is down\",{position:\"top-center\",autoClose:1000,hideProgressBar:false,closeOnClick:true,pauseOnHover:true,draggable:true,progress:undefined});setTimeout(()=>{window.location.reload(true);},1000);// Redirect after 3 seconds\n});e.preventDefault();};return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"div\",{className:\"mt-2 d-flex aligns-items-center justify-content-center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"form-card border-color mb-2\",style:{width:\"25rem\"},children:/*#__PURE__*/_jsxs(\"div\",{className:\"container-fluid\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-header bg-info custom-bg-text mt-2 d-flex justify-content-center align-items-center\",style:{borderRadius:\"1em\",height:\"38px\"},children:/*#__PURE__*/_jsx(\"h4\",{className:\"card-title\",children:\"Admin Register\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"card-body mt-3\",children:/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3 text-color\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"emailId\",className:\"form-label\",children:/*#__PURE__*/_jsx(\"b\",{children:\"Email Id\"})}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",className:\"form-control\",id:\"email\",name:\"emailId\",onChange:handleUserInput,value:registerRequest.emailId}),errors.emailId&&/*#__PURE__*/_jsx(\"small\",{className:\"text-danger\",children:errors.emailId})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3 text-color\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"password\",className:\"form-label\",children:/*#__PURE__*/_jsx(\"b\",{children:\"Password\"})}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",className:\"form-control\",id:\"password\",name:\"password\",onChange:handleUserInput,value:registerRequest.password,autoComplete:\"on\"}),errors.password&&/*#__PURE__*/_jsx(\"small\",{className:\"text-danger\",children:errors.password})]}),/*#__PURE__*/_jsx(\"div\",{className:\"d-flex aligns-items-center justify-content-center\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn bg-info custom-bg-text mb-2\",onClick:registerAdmin,children:\"Register\"})}),/*#__PURE__*/_jsx(ToastContainer,{})]})})]})})})});};export default AdminRegisterForm;","map":{"version":3,"names":["useState","ToastContainer","toast","useNavigate","jsx","_jsx","jsxs","_jsxs","AdminRegisterForm","navigate","admin_jwtToken","sessionStorage","getItem","registerRequest","setRegisterRequest","errors","setErrors","emailId","password","handleUserInput","e","target","name","value","validateEmail","email","regex","test","validatePassword","validateForm","Object","keys","length","registerAdmin","fetch","concat","process","env","REACT_APP_BACKEND","method","headers","Accept","body","JSON","stringify","then","result","console","log","json","res","success","responseMessage","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","setTimeout","error","window","location","reload","catch","preventDefault","children","className","style","width","borderRadius","height","for","type","id","onChange","autoComplete","onClick"],"sources":["/home/rr/kunal/event_sphere_frontend/src/UserComponent/AdminRegisterForm.jsx"],"sourcesContent":["import { useState } from \"react\";\nimport { ToastContainer, toast } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport { useNavigate } from \"react-router-dom\";\n\nconst AdminRegisterForm = () => {\n  let navigate = useNavigate();\n  const admin_jwtToken = sessionStorage.getItem(\"admin-jwtToken\");\n\n  const [registerRequest, setRegisterRequest] = useState({});\n\n  const [errors, setErrors] = useState({\n    emailId: \"\",\n    password:\"\",\n   \n  });\n\n  const handleUserInput = (e) => {\n    setRegisterRequest({ ...registerRequest, [e.target.name]: e.target.value });\n  };\n\n  const validateEmail = (email) => {\n    const regex = /^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}$/;\n    return regex.test(email);\n  };\n  const validatePassword = (password) => {\n    // Regular expression for validating the password\n    const regex = /^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[@$!%*?&])[A-Za-z\\d@$!%*?&]{8,}$/;\n    return regex.test(password);\n  };\n\n  const validateForm = () => {\n    const errors = {};\n\n    if (!validateEmail(registerRequest.emailId)) {\n      errors.emailId = \"Invalid email address\";\n    }\n    if (!validatePassword(registerRequest.password)) {\n      errors.password = \"Password must be at least 8 characters long, include one uppercase letter, one lowercase letter, one digit, and one special character\";\n    }\n\n    setErrors(errors);\n\n    // Return true if no errors\n    return Object.keys(errors).length === 0;\n  };\n\n\n  const registerAdmin = (e) => {\n\n    if (!validateForm()) {\n      return;\n    }\n\n\n    fetch(`${process.env.REACT_APP_BACKEND}/api/user/admin/register`, {\n      method: \"POST\",\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\",\n        //   Authorization: \"Bearer \" + admin_jwtToken,\n      },\n      body: JSON.stringify(registerRequest),\n    })\n      .then((result) => {\n        console.log(\"result\", result);\n        result.json().then((res) => {\n          if (res.success) {\n            toast.success(res.responseMessage, {\n              position: \"top-center\",\n              autoClose: 1000,\n              hideProgressBar: false,\n              closeOnClick: true,\n              pauseOnHover: true,\n              draggable: true,\n              progress: undefined,\n            });\n\n            setTimeout(() => {\n              navigate(\"/home\");\n            }, 1000);\n          } else if (!res.success) {\n            toast.error(res.responseMessage, {\n              position: \"top-center\",\n              autoClose: 1000,\n              hideProgressBar: false,\n              closeOnClick: true,\n              pauseOnHover: true,\n              draggable: true,\n              progress: undefined,\n            });\n\n            setTimeout(() => {\n              window.location.reload(true);\n            }, 1000); // Redirect after 3 seconds\n          } else {\n            toast.error(\"It seems server is down\", {\n              position: \"top-center\",\n              autoClose: 1000,\n              hideProgressBar: false,\n              closeOnClick: true,\n              pauseOnHover: true,\n              draggable: true,\n              progress: undefined,\n            });\n\n            setTimeout(() => {\n              window.location.reload(true);\n            }, 1000); // Redirect after 3 seconds\n          }\n        });\n      })\n      .catch((error) => {\n        console.error(error);\n        toast.error(\"It seems server is down\", {\n          position: \"top-center\",\n          autoClose: 1000,\n          hideProgressBar: false,\n          closeOnClick: true,\n          pauseOnHover: true,\n          draggable: true,\n          progress: undefined,\n        });\n        setTimeout(() => {\n          window.location.reload(true);\n        }, 1000); // Redirect after 3 seconds\n      });\n    e.preventDefault();\n  };\n\n  return (\n    <div>\n      <div className=\"mt-2 d-flex aligns-items-center justify-content-center\">\n        <div className=\"form-card border-color mb-2\" style={{ width: \"25rem\" }}>\n          <div className=\"container-fluid\">\n            <div\n              className=\"card-header bg-info custom-bg-text mt-2 d-flex justify-content-center align-items-center\"\n              style={{\n                borderRadius: \"1em\",\n                height: \"38px\",\n              }}\n            >\n              <h4 className=\"card-title\">Admin Register</h4>\n            </div>\n            <div className=\"card-body mt-3\">\n              <form>\n                <div className=\"mb-3 text-color\">\n                  <label for=\"emailId\" className=\"form-label\">\n                    <b>Email Id</b>\n                  </label>\n                  <input\n                    type=\"email\"\n                    className=\"form-control\"\n                    id=\"email\"\n                    name=\"emailId\"\n                    onChange={handleUserInput}\n                    value={registerRequest.emailId}\n                  />\n                   {errors.emailId && <small className=\"text-danger\">{errors.emailId}</small>}\n                </div>\n                <div className=\"mb-3 text-color\">\n                  <label for=\"password\" className=\"form-label\">\n                    <b>Password</b>\n                  </label>\n                  <input\n                    type=\"password\"\n                    className=\"form-control\"\n                    id=\"password\"\n                    name=\"password\"\n                    onChange={handleUserInput}\n                    value={registerRequest.password}\n                    autoComplete=\"on\"\n                  />\n                   {errors.password && <small className=\"text-danger\">{errors.password}</small>}\n                </div>\n                <div className=\"d-flex aligns-items-center justify-content-center\">\n                  <button\n                    type=\"submit\"\n                    className=\"btn bg-info custom-bg-text mb-2\"\n                    onClick={registerAdmin}\n                  >\n                    Register\n                  </button>\n                </div>\n\n                <ToastContainer />\n              </form>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default AdminRegisterForm;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}